<section>
  <div class="container my-8">
    <h1 class="text-center my-1 font-bold capitalize">Register form</h1>
    <form [formGroup]="registrationform" (ngSubmit)="Submit()">
      <div class="field">
        <p-inputGroup>
          <p-inputGroupAddon>
            <i class="pi pi-user"></i>
          </p-inputGroupAddon>
          <input pInputText
          [autofocus]="true"
            formControlName="name"
            placeholder="Username" />
        </p-inputGroup>
        <div class="valid-mas">
          @if (name.dirty && name.touched) { @if (name.getError('required')) {
            <p-messages
              [value]="[
                {
                  severity: 'error',
                  summary: 'validation error',
                  detail: 'name is required'
                }
              ]"
              [enableService]="false"
              [closable]="false"
            />
          }
          @if (name.getError ('minlength')) {
            <p-messages
              [value]="[
                {
                  severity: 'error',
                  summary: 'validation error',
                  detail: 'name must be at least 3 characters long'
                }
              ]"
              [enableService]="false"
              [closable]="false"
            />
          } @if (name.getError('maxlength')) {
            <p-messages
              [value]="[
                {
                  severity: 'error',
                  summary: 'validation error',
                  detail: 'name must be at most 20 characters long'
                }
              ]"
              [enableService]="false"
              [closable]="false"
            />
          }

        }
        </div>
        </div>
      <div class="field">
        <p-inputGroup>
          <p-inputGroupAddon>
            <i class="pi pi-envelope"></i>
          </p-inputGroupAddon>
          <input pInputText
            formControlName="email"
            placeholder="Email" />
        </p-inputGroup>
        <div class="valid-mas">
          @if (email.dirty && email.touched) { @if (email.getError('required')) {
            <p-messages
              [value]="[
                {
                  severity: 'error',
                  summary: 'validation error',
                  detail: 'Email is required'
                }
              ]"
              [enableService]="false"
              [closable]="false"
            />
          }
          @if (email.getError('email')) {
            <p-messages
              [value]="[
                {
                  severity: 'error',
                  summary: 'validation error',
                  detail: 'Email is not valid'
                }
              ]"
              [enableService]="false"
              [closable]="false"
            />
          }

        }
        </div>
      </div>


          <div class="field">
            <p-inputGroup>
              <p-inputGroupAddon>
                <i class="pi pi-lock"></i>
              </p-inputGroupAddon>
              <input
                pInputText
                type="password"
                formControlName="password"
                placeholder="password"
              />
            </p-inputGroup>
            <div class="valid-mas">
              @if (password.dirty && password.touched) { @if
              (password.getError('required')) {
              <p-messages
                [value]="[
                  {
                    severity: 'error',
                    summary: 'validation error',
                    detail: 'password is required'
                  }
                ]"
                [enableService]="false"
                [closable]="false"
              />
              } @if (password.getError('minlength')) {
              <p-messages
                [value]="[
                  {
                    severity: 'error',
                    summary: 'validation error',
                    detail: 'must be at least 3 char'
                  }
                ]"
                [enableService]="false"
                [closable]="false"
              />
              } @if (password.getError('maxlength')) {
              <p-messages
                [value]="[
                  {
                    severity: 'error',
                    summary: 'validation error',
                    detail: 'cannot exceed 20 char'
                  }
                ]"
                [enableService]="false"
                [closable]="false"
              />
              } }
            </div>
          </div>



          <div class="field">
            <p-inputGroup>
              <p-inputGroupAddon>
                <i class="pi pi-lock"></i>
              </p-inputGroupAddon>
              <input
                pInputText
                formControlName="repassword"
                placeholder="rePassword"
                type="password"
              />
            </p-inputGroup>
            <div class="valid-mas">
              @if (registrationform.errors?.['passNotMatch'] && (repassword.dirty || repassword.touched)) {
                <p-messages
                  [value]="[
                    {
                      severity: 'error',
                      summary: 'validation error',
                      detail: 'rePassword does not match password'
                    }
                  ]"
                  [enableService]="false"
                  [closable]="false"
                />
              }
            </div>
          </div>
          <div class="card flex justify-content-center">
          <p-button type="Submit" label="Submit" />
          </div>
      </form>
  </div>
</section>
